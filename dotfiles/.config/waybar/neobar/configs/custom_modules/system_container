{

    "group/system-container": {
        "orientation": "horizontal",
        "modules": [
            "group/pacman-grp",
            "group/pulseaudio-grp",
            "group/battery-grp",
            "group/backlight-grp"
        ]
    },

    "group/pacman-grp": {
        "orientation": "horizontal",
        "modules": [
            // "custom/pacman",
            "custom/pacman-update",
            "custom/pacman-update#text"
        ]
    },
    "group/pulseaudio-grp": {
        "orientation": "horizontal",
        "modules": [
            "pulseaudio",
            "pulseaudio#text"
        ]
    },
    "group/battery-grp": {
        "orientation": "horizontal",
        "modules": [
            "battery",
            "battery#text"
        ]
    },
    "group/backlight-grp": {
        "orientation": "horizontal",
        "modules": [
            /*
            "backlight",
            "backlight#text"
            */
            "custom/backlight",
            "custom/backlight#text"
        ]
    },
    
    "custom/pacman": {
        "format": "<big>􏆲</big>  {}",
        "interval": 3600,                     // every hour
        "exec": "checkupdates | wc -l",       // # of updates
        "exec-if": "exit 0",                  // always run; consider advanced run conditions
        "on-click": "alacritty -e 'paru'; pkill -SIGRTMIN+8 waybar", // update system
        "signal": 8,
        "max-length": 5,
        "min-length": 3
    },
    
    "custom/pacman-update": {
        "format": "󪥔",
        "tooltip": false,
        "on-click":"~/.config/ml4w/settings/installupdates.sh"
        // "on-click":
        // "hyprctl dispatch exec \"[float;size 800 500;center] alacritty --class update-check -e ~/.config/waybar/neobar/scripts/custom/pacman-update.sh\""
    },

    "custom/pacman-update#text": {
        "format": "{}",
        "escape": true,
        "return-type": "json",
        "exec": "~/.config/ml4w/scripts/updates.sh",
        "on-click":"~/.config/ml4w/settings/installupdates.sh",
        "interval": 1800,
        "signal": 1,
        "hide-empty-text": true,
        // "return-type": "json"
    },

    "pulseaudio": {
        "format": "{icon}",
        "format-bluetooth": "{icon}",
        "format-bluetooth-muted": "{icon}",
        "tooltip": false,
        "format-muted": "󪤑",
        "format-icons": {
            "headphone": "󪥆",
            "hands-free": "󪤥",
            "headset": "󪥆",
            "phone": "󪤥",
            "portable": "󪤥",
            "car": "󪤬",
            "default": [
                "󪤦",
                "󪤦",
                "󪤒"
            ]
        },
        "on-click": "~/.config/waybar/neobar/scripts/custom/audio-menu.sh"
    },
    "pulseaudio#text": {
        "tooltip": false,
        "format": "<b>{volume}</b>",
        "format-bluetooth": "<b>{volume}</b>"
    },

    "battery": {
        "bat": "BAT1",
        "interval": 60,
        "states": {
            "warning": 30,
            "critical": 15
        },
        "format": "{icon}",
        "format-icons": [
            "󪥖",
            "󪥝",
            "󪥞",
            "󪥞",
            "󪥟"
        ],
        "max-length": 25,
        "tooltip": false
    },
    "battery#text": {
        "bat": "BAT1",
        "interval": 60,
        "states": {
            "warning": 30,
            "critical": 15
        },
        "format": "<b>{capacity}</b>",
        "max-length": 25,
        "tooltip": false
    },
/*
    "backlight": {
        "device": "DP-1",
        "format": "{icon}",
        "tooltip": false,
        "format-icons": [
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪"
        ],
        "on-click": ""
    },
    "backlight#text": {
        "device": "DP-1",
        "format": "<b>{percent}</b>",
        "interval": 15,
        "exec": "",
        "tooltip": false
    },
*/
    "custom/backlight": {
        "format": "{icon}",
        "tooltip": false,
        "format-icons": [
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪",
            "󪤪"
        ],
        "on-scroll-up": "~/.config/waybar/neobar/scripts/custom/ddc-brightness up",
        "on-scroll-down": "~/.config/waybar/neobar/scripts/custom/ddc-brightness down"
    },
    "custom/backlight#text": {
        "format": "<b>{}</b>",
        "exec": "~/.config/waybar/neobar/scripts/custom/ddc-brightness get",
        "interval": 15,
        "tooltip": false
    }

}