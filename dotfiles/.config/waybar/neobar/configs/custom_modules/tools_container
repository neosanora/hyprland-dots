{
    "include": [
    "~/.config/waybar/neobar/configs/custom_modules/modules"
  ],

  "group/tools": {
    "orientation": "horizontal",
    "drawer": {
      "transition-duration": 300,
      "children-class": "tools",
      "transition-left-to-right": false
    },
    "modules": [
      "custom/tools",
      "custom/cliphist",
      "custom/dot",
      "custom/hypridle",
      "custom/dot",
      "custom/gammastep",
      "custom/dot",
      "custom/ml4w-welcome"
    ]
  },

  "custom/tools": {
    "format": "",
    "tooltip-format": "Tools"
  },

  "custom/cliphist": {
    "format": "",
    "on-click": "sleep 0.1 && ~/.config/waybar/neobar/scripts/custom/cliphist.sh",
    "on-click-right": "sleep 0.1 && ~/.config/waybar/neobar/scripts/custom/cliphist.sh d",
    "on-click-middle": "sleep 0.1 && ~/.config/waybar/neobar/scripts/custom/cliphist.sh w",
    "tooltip-format": "Left: Open clipboard Manager\nRight: Delete an entry\nMiddle: Clear list"
  },

  "custom/hypridle": {
    "format": "",
    "return-type": "json",
    "escape": true,
    "exec-on-event": true,
    "interval": 60,
    "exec": "~/.config/hypr/scripts/hypridle.sh status",
    "on-click": "~/.config/hypr/scripts/hypridle.sh toggle"
  },

  "custom/gammastep": {
      "interval": 5,
      "return-type": "json",
      "exec": {
          "pre": "if unit_status=\"$(systemctl --user is-active gammastep)\"; then\nstatus=\"$unit_status ($(journalctl --user -u gammastep.service -g 'Period: ' | tail -1 | cut -d ':' -f6 | xargs))\"\nelse\nstatus=\"$unit_status\"\nfi",
          "alt": "${status:-inactive}",
          "tooltip": "Gammastep is $status",
      },
      "format": "{icon}",
      "format-icons": {
          "activating": "󰁪 ",
          "deactivating": "󰁪 ",
          "inactive": "? ",
          "active (Night)": " ",
          "active (Nighttime)": " ",
          "active (Transition (Night)": " ",
          "active (Transition (Nighttime)": " ",
          "active (Day)": " ",
          "active (Daytime)": " ",
          "active (Transition (Day)": " ",
          "active (Transition (Daytime)": " ",
      },
      "on-click": "systemctl --user is-active gammastep && systemctl --user stop gammastep || systemctl --user start gammastep",
  },

  // ML4W Welcome App
  "custom/ml4w-welcome": {
    "on-click": "flatpak run com.ml4w.sidebar",
    "format": " ",
    "tooltip-format": "Open ML4W Sidebar App"
  }
}